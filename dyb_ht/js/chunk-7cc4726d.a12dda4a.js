(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cc4726d"],{"064b":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"08ba":function(e,t,o){var a=o("d890"),r=o("064b"),n=o("3c10"),s=o("0fc1");for(var i in r){var l=a[i],c=l&&l.prototype;if(c&&c.forEach!==n)try{s(c,"forEach",n)}catch(u){c.forEach=n}}},1400:function(e,t,o){},"32f5":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),o("el-breadcrumb-item",[e._v("商品管理")]),o("el-breadcrumb-item",[e._v("添加商品")])],1),o("el-card",[o("el-alert",{attrs:{title:"添加商品信息",type:"info",center:"","show-icon":"",closable:!1}}),o("el-steps",{attrs:{space:200,active:e.activeIndex-0,"finish-status":"success","align-center":""}},[o("el-step",{attrs:{title:"基本信息"}}),o("el-step",{attrs:{title:"商品参数"}}),o("el-step",{attrs:{title:"商品属性"}}),o("el-step",{attrs:{title:"商品图片"}}),o("el-step",{attrs:{title:"商品内容"}})],1),o("el-tabs",{staticStyle:{height:"100%"},attrs:{"tab-position":"left","before-leave":e.beforeLeave},model:{value:e.activeIndex,callback:function(t){e.activeIndex=t},expression:"activeIndex"}},[o("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[o("el-form",{ref:"goods",attrs:{model:e.goods}},[o("el-form-item",{attrs:{label:"商品名称",prop:"goods_name",rules:[{required:!0,message:"商品名称不能为空",trigger:"blur"}]}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.goods.goods_name,callback:function(t){e.$set(e.goods,"goods_name",t)},expression:"goods.goods_name"}})],1),o("el-form-item",{attrs:{label:"数量",prop:"goods_number",rules:[{required:!0,message:"商品数量不能为空",trigger:"blur"},{type:"number",message:"商品数量必须是数值",trigger:"blur"}]}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.goods.goods_number,callback:function(t){e.$set(e.goods,"goods_number",e._n(t))},expression:"goods.goods_number"}})],1),o("el-form-item",{attrs:{label:"重量",prop:"goods_weight",rules:[{required:!0,message:"商品数量不能为空",trigger:"blur"},{type:"number",message:"商品数量必须是数值",trigger:"blur"}]}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.goods.goods_weight,callback:function(t){e.$set(e.goods,"goods_weight",e._n(t))},expression:"goods.goods_weight"}})],1),o("el-form-item",{attrs:{label:"价格",prop:"goods_price",rules:[{required:!0,message:"商品价格不能为空",trigger:"blur"},{type:"number",message:"商品价格必须是数值",trigger:"blur"}]}},[o("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.goods.goods_price,callback:function(t){e.$set(e.goods,"goods_price",e._n(t))},expression:"goods.goods_price"}})],1),o("p",[e._v("商品分类")]),o("el-cascader",{attrs:{options:e.options,props:e.props},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1),o("el-tab-pane",{attrs:{label:"商品参数",name:"1"}},e._l(e.only,(function(t,a){return o("div",{key:a},[o("h3",[e._v(e._s(t.attr_name))]),o("el-checkbox-group",{attrs:{value:t.attr_vals.split(",")},on:{change:e.checkedChang}},e._l(t.attr_vals.split(","),(function(t,a){return o("el-checkbox",{key:a,attrs:{label:t,border:"",size:"small"}},[e._v(e._s(t))])})),1)],1)})),0),o("el-tab-pane",{attrs:{label:"商品属性",name:"2"}},e._l(e.many,(function(t,a){return o("div",{key:a},[o("p",{staticStyle:{margin:"20px 0 5px 0"}},[e._v(e._s(t.attr_name))]),o("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.attr_vals,callback:function(o){e.$set(t,"attr_vals",o)},expression:"item.attr_vals"}})],1)})),0),o("el-tab-pane",{attrs:{label:"商品图片",name:"3"}},[o("el-upload",{attrs:{action:"#","list-type":"picture-card","auto-upload":!1},scopedSlots:e._u([{key:"file",fn:function(t){var a=t.file;return o("div",{},[o("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:a.url,alt:""}}),o("span",{staticClass:"el-upload-list__item-actions"},[o("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(a)}}},[o("i",{staticClass:"el-icon-zoom-in"})]),e.disabled?e._e():o("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleDownload(a)}}},[o("i",{staticClass:"el-icon-download"})]),e.disabled?e._e():o("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(a)}}},[o("i",{staticClass:"el-icon-delete"})])])])}}])},[o("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1),o("el-tab-pane",{attrs:{label:"商品内容",name:"4"}},[o("quill-editor",{attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.goods.goods_introduce,callback:function(t){e.$set(e.goods,"goods_introduce",t)},expression:"goods.goods_introduce"}}),o("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")])],1)],1)],1)],1)},r=[],n=(o("fe59"),o("9302"),o("08ba"),o("6a61"),o("327b")),s=o("b775"),i=(o("b881"),{data:function(){return{dialogImageUrl:"",dialogVisible:!1,disabled:!1,activeIndex:"0",goods:{goods_name:"",goods_price:"",goods_weight:"",goods_number:"",goods_cat:"",pics:{pic:""},goods_introduce:"",attrs:[]},value:"",props:{label:"cat_name",value:"cat_id"},options:[],only:[],many:[],good_cat:[],editorOption:{}}},methods:{handleChange:function(e){this.good_cat=e,this.goods.goods_cat=e.join(",")},getCategories:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["r"])();case 2:o=t.sent,a=o.data,e.options=a.data;case 5:case"end":return t.stop()}}),t)})))()},beforeLeave:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){var a,r,n,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(" "!=t.goods.goods_cat){o.next=2;break}return o.abrupt("return",!1);case 2:if(1!=e){o.next=9;break}return o.next=5,Object(s["u"])(t.good_cat[t.good_cat.length-1],"many");case 5:a=o.sent,r=a.data,t.only=r.data,r.data.forEach((function(e){t.goods.attrs.push({attr_id:e.attr_id,attr_value:e.attr_vals})}));case 9:if(2!=e){o.next=16;break}return o.next=12,Object(s["u"])(t.good_cat[t.good_cat.length-1],"only");case 12:n=o.sent,i=n.data,t.many=i.data,i.data.forEach((function(e){t.goods.attrs.push({attr_id:e.attr_id,attr_value:e.attr_vals})}));case 16:case"end":return o.stop()}}),o)})))()},handleRemove:function(e){console.log(e)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.goods.pics.pic=e.url,this.dialogVisible=!0},handleDownload:function(e){console.log(e)},add:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.goods),t.next=3,Object(s["d"])(e.goods);case 3:o=t.sent,a=o.data,201==a.meta.status?(e.$router.push("/home/goods"),e.$message({type:"success",message:a.meta.msg})):e.$message({type:"error",message:a.meta.msg});case 6:case"end":return t.stop()}}),t)})))()},onEditorBlur:function(e){},onEditorFocus:function(e){},onEditorChange:function(e){e.editor,e.html,e.text},checkedChang:function(e){console.log(e)}},mounted:function(){this.getCategories()}}),l=i,c=(o("db97"),o("9ca4")),u=Object(c["a"])(l,a,r,!1,null,"8548537c",null);t["default"]=u.exports},"3c10":function(e,t,o){"use strict";var a=o("5dfd").forEach,r=o("d7e1"),n=o("ff9c"),s=r("forEach"),i=n("forEach");e.exports=s&&i?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},"5dfd":function(e,t,o){var a=o("e349"),r=o("692f"),n=o("3553"),s=o("d88d"),i=o("1ca1"),l=[].push,c=function(e){var t=1==e,o=2==e,c=3==e,u=4==e,d=6==e,g=5==e||d;return function(f,p,m,b){for(var h,_,v=n(f),x=r(v),y=a(p,m,3),k=s(x.length),w=0,C=b||i,L=t?C(f,k):o?C(f,0):void 0;k>w;w++)if((g||w in x)&&(h=x[w],_=y(h,w,v),e))if(t)L[w]=_;else if(_)switch(e){case 3:return!0;case 5:return h;case 6:return w;case 2:l.call(L,h)}else if(u)return!1;return d?-1:c||u?u:L}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},9302:function(e,t,o){"use strict";var a=o("1c8b"),r=o("692f"),n=o("da10"),s=o("d7e1"),i=[].join,l=r!=Object,c=s("join",",");a({target:"Array",proto:!0,forced:l||!c},{join:function(e){return i.call(n(this),void 0===e?",":e)}})},d7e1:function(e,t,o){"use strict";var a=o("efe2");e.exports=function(e,t){var o=[][e];return!!o&&a((function(){o.call(null,t||function(){throw 1},1)}))}},db97:function(e,t,o){"use strict";var a=o("1400"),r=o.n(a);r.a},fe59:function(e,t,o){"use strict";var a=o("1c8b"),r=o("3c10");a({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},ff9c:function(e,t,o){var a=o("1e2c"),r=o("efe2"),n=o("faa8"),s=Object.defineProperty,i={},l=function(e){throw e};e.exports=function(e,t){if(n(i,e))return i[e];t||(t={});var o=[][e],c=!!n(t,"ACCESSORS")&&t.ACCESSORS,u=n(t,0)?t[0]:l,d=n(t,1)?t[1]:void 0;return i[e]=!!o&&!r((function(){if(c&&!a)return!0;var e={length:-1};c?s(e,1,{enumerable:!0,get:l}):e[1]=1,o.call(e,u,d)}))}}}]);
//# sourceMappingURL=chunk-7cc4726d.a12dda4a.js.map