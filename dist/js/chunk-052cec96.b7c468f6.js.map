{"version":3,"sources":["webpack:///./src/Home/Roles.vue?6311","webpack:///src/Home/Roles.vue","webpack:///./src/Home/Roles.vue?4ec8","webpack:///./src/Home/Roles.vue","webpack:///./src/Home/Roles.vue?9149","webpack:///./node_modules/_core-js@3.6.5@core-js/modules/es.array.join.js","webpack:///./node_modules/_core-js@3.6.5@core-js/internals/array-method-is-strict.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","path","_v","staticStyle","on","$event","dialogAddRole","tableData","scopedSlots","_u","key","fn","scope","_l","row","item","index","delRig","id","_s","authName","t","i","k","j","props","getRolse","delRoles","addRight","ref","role","required","message","trigger","min","max","model","value","callback","$$v","$set","expression","slot","addRoles","dialogUpdataRole","getroles","updataRoles","dialogJur","jurs","node","data","getCheckedKeys","staticRenderFns","name","roleName","roleDesc","jur_str","roleID","created","mounted","roles","methods","$refs","validate","$confirm","confirmButtonText","cancelButtonText","type","watch","handler","val","component","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","undefined","fails","module","exports","METHOD_NAME","argument","method"],"mappings":"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","file":"js/chunk-052cec96.b7c468f6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"权限管理\")]),_c('el-breadcrumb-item',[_vm._v(\"角色列表\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticStyle:{\"margin-bottom\":\"15px\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogAddRole = true}}},[_vm._v(\"添加角色\")])],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.children),function(item,index){return _c('el-row',{key:index,staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":4,\"id\":\"one\"}},[_c('div',{staticClass:\"grid-content bg-purple\"},[_c('el-tag',{attrs:{\"closable\":\"\",\"type\":\"primary\",\"effect\":\"dark\"},on:{\"close\":function($event){return _vm.delRig(scope.row.id, item.id)}}},[_vm._v(\" \"+_vm._s(item.authName)+\" \")])],1)]),_c('el-col',{staticStyle:{\"border\":\"1px solid #ddd\"},attrs:{\"span\":20}},[_c('div',{staticClass:\"grid-content bg-purple\"},_vm._l((item.children),function(t,i){return _c('el-row',{key:i,staticStyle:{\"border-bottom\":\"1px solid #ddd\"}},[_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content bg-purple\",staticStyle:{\"margin\":\"5px 0 0 40px\"}},[_c('el-tag',{attrs:{\"closable\":\"\",\"type\":\"success\",\"effect\":\"dark\"},on:{\"close\":function($event){return _vm.delRig(scope.row.id, t.id)}}},[_vm._v(\" \"+_vm._s(t.authName)+\" \")])],1)]),_c('el-col',{attrs:{\"span\":20}},[_c('div',{staticClass:\"grid-content bg-purple\"},_vm._l((t.children),function(k,j){return _c('el-tag',{key:j,staticStyle:{\"margin\":\"5px 5px\"},attrs:{\"closable\":\"\",\"type\":\"warning\",\"effect\":\"dark\"},on:{\"close\":function($event){return _vm.delRig(scope.row.id, k.id)}}},[_vm._v(\" \"+_vm._s(k.authName)+\" \")])}),1)])],1)}),1)])],1)})}}])}),_c('el-table-column',{attrs:{\"label\":\"#\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}}),_c('el-table-column',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.getRolse(props.row.id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.delRoles(props.row.id)}}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.addRight(props.row.id)}}},[_vm._v(\"分配权限\")])]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加角色\",\"visible\":_vm.dialogAddRole},on:{\"update:visible\":function($event){_vm.dialogAddRole=$event}}},[_c('el-form',{ref:\"role\",staticClass:\"demo-dynamic\",attrs:{\"model\":_vm.role,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"prop\":\"roleName\",\"label\":\"角色名称\",\"rules\":[\n          { required: true, message: '请输入角色名称', trigger: 'blur' },\n          {\n            min: 3,\n            max: 8,\n            message: '长度在 3 到 8 个字符',\n            trigger: 'blur',\n          } ]}},[_c('el-input',{model:{value:(_vm.role.roleName),callback:function ($$v) {_vm.$set(_vm.role, \"roleName\", $$v)},expression:\"role.roleName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"roleName\",\"label\":\"角色描述\",\"rules\":[\n          { required: true, message: '请输入角色描述', trigger: 'blur' } ]}},[_c('el-input',{model:{value:(_vm.role.roleDesc),callback:function ($$v) {_vm.$set(_vm.role, \"roleDesc\", $$v)},expression:\"role.roleDesc\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogAddRole = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addRoles('role')}}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加角色\",\"visible\":_vm.dialogUpdataRole},on:{\"update:visible\":function($event){_vm.dialogUpdataRole=$event}}},[_c('el-form',{ref:\"getroles\",staticClass:\"demo-dynamic\",attrs:{\"model\":_vm.getroles,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"prop\":\"roleName\",\"label\":\"角色名称\",\"rules\":[\n          { required: true, message: '请输入角色名称', trigger: 'blur' },\n          {\n            min: 2,\n            max: 8,\n            message: '长度在 2 到 8 个字符',\n            trigger: 'blur',\n          } ]}},[_c('el-input',{model:{value:(_vm.getroles.roleName),callback:function ($$v) {_vm.$set(_vm.getroles, \"roleName\", $$v)},expression:\"getroles.roleName\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"roleName\",\"label\":\"角色描述\",\"rules\":[\n          { required: true, message: '请输入角色描述', trigger: 'blur' } ]}},[_c('el-input',{model:{value:(_vm.getroles.roleDesc),callback:function ($$v) {_vm.$set(_vm.getroles, \"roleDesc\", $$v)},expression:\"getroles.roleDesc\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogUpdataRole = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.updataRoles('getroles')}}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"收货地址\",\"visible\":_vm.dialogJur},on:{\"update:visible\":function($event){_vm.dialogJur=$event}}},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.jurs,\"show-checkbox\":\"\",\"node-key\":\"id\",\"default-expand-all\":\"\",\"check-on-click-node\":\"\",\"current-node-key\":\"\",\"default-checked-keys\":[101]},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var node = ref.node;\n        var data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_vm._v(_vm._s(data.authName))])])}}])}),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogJur = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getCheckedKeys}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    \r\n  <div class=\"box\">\r\n    <!-- 面包屑 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>角色列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n      \r\n    <!-- 角色管理表格 -->\r\n    <el-card class=\"box-card\">\r\n      <div style=\"margin-bottom: 15px\">\r\n        <el-button type=\"primary\" @click=\"dialogAddRole = true\"\r\n          >添加角色</el-button\r\n        >\r\n      </div>\r\n\r\n      <!-- 表格 -->\r\n      <el-table :data=\"tableData\" style=\"width: 100%\" border>\r\n        <el-table-column type=\"expand\">\r\n          <!-- 表格折叠 -->\r\n          <template slot-scope=\"scope\">\r\n            <el-row\r\n              v-for=\"(item, index) in scope.row.children\"\r\n              :key=\"index\"\r\n              style=\"width: 100%\"\r\n              type=\"flex\"\r\n            >\r\n              <el-col :span=\"4\" id=\"one\"\r\n                ><div class=\"grid-content bg-purple\">\r\n                  <el-tag\r\n                    closable\r\n                    type=\"primary\"\r\n                    effect=\"dark\"\r\n                    @close=\"delRig(scope.row.id, item.id)\"\r\n                  >\r\n                    {{ item.authName }}\r\n                  </el-tag>\r\n                </div></el-col\r\n              >\r\n              <el-col :span=\"20\" style=\"border: 1px solid #ddd\"\r\n                ><div class=\"grid-content bg-purple\">\r\n                  <!-- 局中局 -->\r\n                  <el-row\r\n                    v-for=\"(t, i) in item.children\"\r\n                    :key=\"i\"\r\n                    style=\"border-bottom: 1px solid #ddd\"\r\n                  >\r\n                    <el-col :span=\"4\"\r\n                      ><div\r\n                        class=\"grid-content bg-purple\"\r\n                        style=\"margin: 5px 0 0 40px\"\r\n                      >\r\n                        <el-tag\r\n                          closable\r\n                          type=\"success\"\r\n                          effect=\"dark\"\r\n                          @close=\"delRig(scope.row.id, t.id)\"\r\n                        >\r\n                          {{ t.authName }}\r\n                        </el-tag>\r\n                      </div></el-col\r\n                    >\r\n                    <el-col :span=\"20\"\r\n                      ><div class=\"grid-content bg-purple\">\r\n                        <el-tag\r\n                          style=\"margin: 5px 5px\"\r\n                          closable\r\n                          type=\"warning\"\r\n                          v-for=\"(k, j) in t.children\"\r\n                          :key=\"j\"\r\n                          effect=\"dark\"\r\n                          @close=\"delRig(scope.row.id, k.id)\"\r\n                        >\r\n                          {{ k.authName }}\r\n                        </el-tag>\r\n                      </div></el-col\r\n                    >\r\n                  </el-row>\r\n                </div></el-col\r\n              >\r\n            </el-row>\r\n          </template>\r\n                  \r\n        </el-table-column>\r\n        <el-table-column label=\"#\" type=\"index\"> </el-table-column>\r\n        <el-table-column label=\"角色名称\" prop=\"roleName\"> </el-table-column>\r\n        <el-table-column label=\"角色描述\" prop=\"roleDesc\"> </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"props\">\r\n            <el-button\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              @click=\"getRolse(props.row.id)\"\r\n              >编辑</el-button\r\n            >\r\n            <el-button\r\n              type=\"danger\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              @click=\"delRoles(props.row.id)\"\r\n              >删除</el-button\r\n            >\r\n            <el-button\r\n              type=\"warning\"\r\n              icon=\"el-icon-setting\"\r\n              size=\"mini\"\r\n              @click=\"addRight(props.row.id)\"\r\n              >分配权限</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n\r\n    <!-- 添加角色的弹框 -->\r\n    <el-dialog title=\"添加角色\" :visible.sync=\"dialogAddRole\">\r\n      <el-form\r\n        :model=\"role\"\r\n        ref=\"role\"\r\n        label-width=\"100px\"\r\n        class=\"demo-dynamic\"\r\n      >\r\n        <el-form-item\r\n          prop=\"roleName\"\r\n          label=\"角色名称\"\r\n          :rules=\"[\r\n            { required: true, message: '请输入角色名称', trigger: 'blur' },\r\n            {\r\n              min: 3,\r\n              max: 8,\r\n              message: '长度在 3 到 8 个字符',\r\n              trigger: 'blur',\r\n            },\r\n          ]\"\r\n        >\r\n          <el-input v-model=\"role.roleName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          prop=\"roleName\"\r\n          label=\"角色描述\"\r\n          :rules=\"[\r\n            { required: true, message: '请输入角色描述', trigger: 'blur' },\r\n          ]\"\r\n        >\r\n          <el-input v-model=\"role.roleDesc\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogAddRole = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addRoles('role')\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!-- 更改角色信息弹框 -->\r\n    <el-dialog title=\"添加角色\" :visible.sync=\"dialogUpdataRole\">\r\n      <el-form\r\n        :model=\"getroles\"\r\n        ref=\"getroles\"\r\n        label-width=\"100px\"\r\n        class=\"demo-dynamic\"\r\n      >\r\n        <el-form-item\r\n          prop=\"roleName\"\r\n          label=\"角色名称\"\r\n          :rules=\"[\r\n            { required: true, message: '请输入角色名称', trigger: 'blur' },\r\n            {\r\n              min: 2,\r\n              max: 8,\r\n              message: '长度在 2 到 8 个字符',\r\n              trigger: 'blur',\r\n            },\r\n          ]\"\r\n        >\r\n          <el-input v-model=\"getroles.roleName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          prop=\"roleName\"\r\n          label=\"角色描述\"\r\n          :rules=\"[\r\n            { required: true, message: '请输入角色描述', trigger: 'blur' },\r\n          ]\"\r\n        >\r\n          <el-input v-model=\"getroles.roleDesc\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogUpdataRole = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"updataRoles('getroles')\"\r\n          >确 定</el-button\r\n        >\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!-- 分配权限的模态框 -->\r\n    <el-dialog title=\"收货地址\" :visible.sync=\"dialogJur\">\r\n      <el-tree\r\n        :data=\"jurs\"\r\n        show-checkbox\r\n        node-key=\"id\"\r\n        default-expand-all\r\n        check-on-click-node\r\n        current-node-key\r\n        :default-checked-keys=\"[101]\"\r\n        ref=\"tree\"\r\n      >\r\n        <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\r\n          <span>{{ data.authName }}</span>\r\n        </span>\r\n      </el-tree>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogJur = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"getCheckedKeys\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport {\r\n  getRoles,\r\n  addrole,\r\n  delrole,\r\n  getrole,\r\n  updatarole,\r\n  delrights,\r\n  addrights,\r\n  rights,\r\n} from \"../utils/request\";\r\nexport default {\r\n  name: \"\",\r\n  data() {\r\n    return {\r\n      // 表格数据\r\n      tableData: [],\r\n      // 添加角色\r\n      role: {\r\n        roleName: \"\",\r\n        roleDesc: \"\",\r\n      },\r\n      //   添加角色的弹框\r\n      dialogAddRole: false,\r\n      //   获取到的角色信息\r\n      getroles: {\r\n        roleName: \"\",\r\n        roleDesc: \"\",\r\n      },\r\n      // 编辑角色信息\r\n      dialogUpdataRole: false,\r\n      // 分配权限\r\n      dialogJur: false,\r\n      // 所有的权限列表\r\n      jurs: [],\r\n      // 修改用户权限\r\n      jur_str: \"\",\r\n      // 角色ID\r\n      roleID: \"\",\r\n    };\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.roles();\r\n  },\r\n  methods: {\r\n    //   获取表格数据\r\n    async roles() {\r\n      let { data } = await getRoles();\r\n      //   console.log(data);\r\n      this.tableData = data.data;\r\n    },\r\n    // 添加角色\r\n    addRoles(role) {\r\n      let that = this;\r\n      this.$refs[role].validate(async (valid) => {\r\n        if (valid) {\r\n          let { data: res } = await addrole(that.role);\r\n          console.log(res);\r\n          if (res.meta.status == 201) {\r\n            that.dialogAddRole = false;\r\n            that.$message({\r\n              type: \"success\",\r\n              message: res.meta.msg,\r\n            });\r\n            that.roles();\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 删除角色\r\n    async delRoles(id) {\r\n      let { data: res } = await delrole(id);\r\n      this.roles();\r\n      if (res.meta.status == 200) {\r\n        this.$message({\r\n          type: \"success\",\r\n          message: res.meta.msg,\r\n        });\r\n      } else {\r\n        this.$message({\r\n          type: \"success\",\r\n          message: res.meta.msg,\r\n        });\r\n      }\r\n    },\r\n    // 获取角色信息\r\n    async getRolse(id) {\r\n      this.dialogUpdataRole = true;\r\n      let { data: res } = await getrole(id);\r\n      console.log(res);\r\n      if (res.meta.status == 200) {\r\n        this.getroles = res.data;\r\n      }\r\n    },\r\n    // 更改角色信息\r\n    updataRoles(getroles) {\r\n      let that = this;\r\n      this.$refs[getroles].validate(async (valid) => {\r\n        if (valid) {\r\n          let { data: res } = await updatarole(\r\n            that.getroles.roleId,\r\n            that.getroles\r\n          );\r\n          console.log(res);\r\n          if (res.meta.status == 200) {\r\n            that.dialogUpdataRole = false;\r\n            that.$message({\r\n              type: \"success\",\r\n              message: res.meta.msg,\r\n            });\r\n            that.roles();\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    // 删除角色指定权限\r\n    delRig(roleid, rightid) {\r\n      let that = this;\r\n      this.$confirm(\"此操作将永久删除该权限, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(async () => {\r\n          let { data: res } = await delrights(roleid, rightid);\r\n          // console.log(res);\r\n          if (res.meta.status == 200) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: res.meta.msg,\r\n            });\r\n            that.roles();\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: res.meta.msg,\r\n            });\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\",\r\n          });\r\n        });\r\n    },\r\n    async addRight(id) {\r\n      this.roleID = id;\r\n      this.dialogJur = true;\r\n      let { data: res } = await rights(\"tree\");\r\n      this.jurs = res.data;\r\n    },\r\n    // 修改用户权限\r\n    async getCheckedKeys() {\r\n      // console.log(this.$refs.tree.getCheckedKeys());\r\n      this.jur_str = this.$refs.tree.getCheckedKeys().join(\",\");\r\n      let { data: res } = await addrights(this.roleID, { rids: this.jur_str });\r\n      if (res.meta.status == 200) {\r\n        this.$message.success(res.meta.msg);\r\n        this.roles()\r\n      } else {\r\n        this.$message.success(res.meta.msg);\r\n      }\r\n      this.dialogJur = false;\r\n    },\r\n  },\r\n  watch: {\r\n    dialogAddRole: {\r\n      handler(val) {\r\n        if (val) return false;\r\n        this.role = {\r\n          roleName: \"\",\r\n          roleDesc: \"\",\r\n        };\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.box-card {\r\n  width: 100%;\r\n  margin-top: 15px;\r\n}\r\n.grid-content {\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\nspam {\r\n  display: inline-block;\r\n}\r\n#one {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 1px solid #ddd;\r\n}\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Roles.vue?vue&type=template&id=675ee54a&scoped=true&\"\nimport script from \"./Roles.vue?vue&type=script&lang=js&\"\nexport * from \"./Roles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Roles.vue?vue&type=style&index=0&id=675ee54a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"675ee54a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=style&index=0&id=675ee54a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Roles.vue?vue&type=style&index=0&id=675ee54a&scoped=true&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n"],"sourceRoot":""}