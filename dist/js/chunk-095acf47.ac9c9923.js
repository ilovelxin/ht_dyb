(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-095acf47"],{aee6:function(e,t,a){"use strict";var r=a("b87d"),n=a.n(r);n.a},b87d:function(e,t,a){},fe2c:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("商品管理")]),a("el-breadcrumb-item",[e._v("商品分類")])],1),a("el-card",[a("div",{staticClass:"add"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加分类")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"cat_name",border:"","tree-props":{children:"children"}}},[a("el-table-column",{attrs:{type:"index",label:"#",width:"50"}}),a("el-table-column",{attrs:{prop:"cat_name",label:"分类名称","min-width":"100"}}),a("el-table-column",{attrs:{label:"是否有效"}},[[a("i",{staticClass:"el-icon-success"})]],2),a("el-table-column",{attrs:{label:"当前层级"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.cat_level?a("el-tag",{attrs:{effect:"dark"}},[e._v(" 一级 ")]):e._e(),1==t.row.cat_level?a("el-tag",{attrs:{effect:"dark",type:"success"}},[e._v(" 二级 ")]):e._e(),2==t.row.cat_level?a("el-tag",{attrs:{effect:"dark",type:"warning"}},[e._v(" 三级 ")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.update(t.row.cat_id)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.del(t.row.cat_id)}}},[e._v("删除")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"添加分类",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"分类名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.cat_name,callback:function(t){e.$set(e.form,"cat_name",t)},expression:"form.cat_name"}})],1),a("el-cascader",{attrs:{options:e.tableData,props:e.props},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改分类",visible:e.upfromflag},on:{"update:visible":function(t){e.upfromflag=t}}},[a("el-form",{attrs:{model:e.upform}},[a("el-form-item",{attrs:{label:"分类名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.upform.cat_name,callback:function(t){e.$set(e.upform,"cat_name",t)},expression:"upform.cat_name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.upfromflag=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.okupdate}},[e._v("确 定")])],1)],1)],1)},n=[],o=(a("96cf"),a("1da1")),s=a("b775"),c={name:"",data:function(){return{tableData:[],dialogFormVisible:!1,value:"",form:{cat_name:"",cat_pid:"",cat_level:0},props:{value:"cat_id",label:"cat_name",children:"children"},upform:{cat_name:""},upfromflag:!1}},created:function(){},mounted:function(){this.Categories()},methods:{Categories:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["q"])();case 2:a=t.sent,r=a.data,e.tableData=r.data;case 5:case"end":return t.stop()}}),t)})))()},handleChange:function(e){console.log(e),2==e.length||3==e.length?(this.form.cat_level=2,this.form.cat_pid=e[1]):1==e.length?(this.form.cat_level=1,this.form.cat_pid=e[0]):(this.form.cat_level=0,this.form.cat_pid=0)},add:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["c"])(e.form);case 2:a=t.sent,r=a.data,201==r.meta.status&&(e.$message({type:"success",message:r.meta.msg}),e.Categories(),e.dialogFormVisible=!1);case 5:case"end":return t.stop()}}),t)})))()},update:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(s["a"])(e);case 2:r=a.sent,n=r.data,t.upfromflag=!0,t.upform=n.data;case 5:case"end":return a.stop()}}),a)})))()},okupdate:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["b"])(e.upform.cat_id,e.upform.cat_name);case 2:a=t.sent,r=a.data,console.log(r),200==r.meta.status&&(e.$message({type:"success",message:r.meta.msg}),e.upfromflag=!1,e.Categories());case 6:case"end":return t.stop()}}),t)})))()},del:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(s["j"])(e);case 2:r=a.sent,n=r.data,console.log(n),(n.meta.status=200)?(t.$message({type:"success",message:n.meta.msg}),t.Categories()):t.$message({type:"error",message:n.meta.msg});case 6:case"end":return a.stop()}}),a)})))()}}},l=c,i=(a("aee6"),a("2877")),u=Object(i["a"])(l,r,n,!1,null,"19840d12",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-095acf47.ac9c9923.js.map