(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26a154af"],{5172:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home/index"}}},[t._v(" 首页 ")]),a("el-breadcrumb-item",[t._v(" 商品管理")]),a("el-breadcrumb-item",[t._v(" 分类参数")])],1),a("el-card",{staticClass:"box-card"},[a("el-alert",{attrs:{title:"注意：只允许为第三级分类设置相关参数！",type:"warning","show-icon":"",effect:"dark",closable:!1}}),a("el-cascader",{attrs:{options:t.options,props:t.props},on:{change:t.handleChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"动态参数"}},[t._v(" 动态参数："),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onlyflag=!0}}},[t._v("添加参数")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tabarr}},[a("el-table-column",{attrs:{type:"expand"}}),a("el-table-column",{attrs:{label:"分类参数ID",prop:"attr_id"}}),a("el-table-column",{attrs:{label:"分类参数名称",prop:"attr_name"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.upParams(e.row.attr_id)}}},[t._v(" 编辑")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.delParams(e.row.attr_id)}}},[t._v("删除")])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"静态属性"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onlyflag=!0}}},[t._v("添加属性")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tabarr}},[a("el-table-column",{attrs:{type:"expand"}}),a("el-table-column",{attrs:{label:"分类参数ID",prop:"attr_id"}}),a("el-table-column",{attrs:{label:"分类参数名称",prop:"attr_name"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.upParams(e.row.attr_id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return t.delParams(e.row.attr_id)}}},[t._v("删除")])]}}])})],1)],1)],1)],1),a("el-dialog",{attrs:{title:"添加参数",visible:t.onlyflag},on:{"update:visible":function(e){t.onlyflag=e}}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.inputvalue,callback:function(e){t.inputvalue=e},expression:"inputvalue"}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.onlyflag=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addonly}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"修改参数",visible:t.upflag},on:{"update:visible":function(e){t.upflag=e}}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.upobj.attr_name,callback:function(e){t.$set(t.upobj,"attr_name",e)},expression:"upobj.attr_name"}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.upflag=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.okup}},[t._v("确 定")])],1)],1)],1)},n=[],s=(a("96cf"),a("1da1")),l=a("b775"),o={name:"",data:function(){return{value:"",props:{label:"cat_name",value:"cat_id"},options:[],tabarr:[],id:"",sel:"only",inputvalue:"",onlyflag:!1,upflag:!1,upobj:{attr_name:""}}},created:function(){},mounted:function(){this.getCategories()},methods:{getCategories:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["q"])();case 2:a=e.sent,r=a.data,t.options=r.data;case 5:case"end":return e.stop()}}),e)})))()},getParams:function(t,e){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(l["t"])(t,e);case 2:n=r.sent,s=n.data,200==s.meta.status?(a.tabarr=s.data,a.$message({type:"success",message:s.meta.msg})):a.$message({type:"error",message:s.meta.msg});case 5:case"end":return r.stop()}}),r)})))()},handleChange:function(t){this.id=t[t.length-1],this.getParams(this.id,this.sel)},handleClick:function(t,e){0==t.index?(this.sel="only",this.getParams(this.id,this.sel)):(this.sel="many",this.getParams(this.id,this.sel))},addonly:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.inputvalue){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,Object(l["e"])(t.id,{attr_name:t.inputvalue,attr_sel:t.sel});case 4:a=e.sent,r=a.data,t.onlyflag=!1,201==r.meta.status&&(t.$message({type:"success",message:r.data.meta}),t.getParams(t.id,t.sel));case 8:case"end":return e.stop()}}),e)})))()},delParams:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["l"])(e.id,t);case 2:r=a.sent,n=r.data,200==n.meta.status?(e.$message({type:"success",message:n.meta.msg}),e.getParams(e.id,e.sel)):e.$message({type:"error",message:n.meta.msg});case 5:case"end":return a.stop()}}),a)})))()},upParams:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.upflag=!0,a.next=3,Object(l["A"])({id:e.id,attr_id:t,attr_sel:e.sel});case 3:r=a.sent,n=r.data,200==n.meta.status&&(e.$message({type:"success",message:n.meta.msg}),e.upobj=n.data);case 6:case"end":return a.stop()}}),a)})))()},okup:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["z"])(t.upobj);case 2:a=e.sent,r=a.data,console.log(t.upobj),console.log(r),t.upflag=!1,200==r.meta.status&&(t.$message({type:"success",message:r.meta.msg}),t.getParams(t.id,t.sel));case 8:case"end":return e.stop()}}),e)})))()}}},i=o,u=(a("f438"),a("2877")),c=Object(u["a"])(i,r,n,!1,null,"563e576e",null);e["default"]=c.exports},d400:function(t,e,a){},f438:function(t,e,a){"use strict";var r=a("d400"),n=a.n(r);n.a}}]);
//# sourceMappingURL=chunk-26a154af.e0460244.js.map